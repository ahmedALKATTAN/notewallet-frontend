(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],{104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){},109:function(e,t,n){},110:function(e,t,n){},111:function(e,t,n){},112:function(e,t,n){},113:function(e,t,n){},114:function(e,t,n){"use strict";n.r(t);var a=n(20),c=n.n(a),s=n(19),r=(n(74),n(75),n(0)),l=n.n(r),o=n(7),i=n(30),j=n(4),u=n(62),d=n.n(u),b=n(1);var h,O=function(e){return Object(b.jsxs)("div",{className:"note",children:[Object(b.jsx)("h1",{children:e.title}),Object(b.jsx)("p",{children:e.content}),Object(b.jsx)("button",{onClick:function(){e.onDelete(e.id)},children:Object(b.jsx)(d.a,{})})]})},x=n(25),p=n(3),m=n(63),g=n.n(m),v=n(138),f=n(139),_=n(18),N=n.n(_),w=l.a.createContext({token:"",isLoggedIn:null,login:function(e){},logout:function(){},userData:"",category:function(e){},categoryType:""}),S=function(e){var t=(new Date).getTime();return new Date(e).getTime()-t},C=function(e){var t,n=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expirationTime"),n=S(t);return n<=3600?(localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),null):{token:e,duration:n}}();n&&(t=n.token);var a=Object(r.useState)(t),c=Object(j.a)(a,2),s=c[0],l=c[1],o=Object(r.useState)(""),i=Object(j.a)(o,2),u=i[0],d=i[1],O=Object(r.useState)({}),x=Object(j.a)(O,2),p=x[0],m=x[1],g=!!s,v=Object(r.useCallback)((function(){l(null),d(null),localStorage.removeItem("token"),localStorage.removeItem("expirationTime"),localStorage.removeItem("userdata"),h&&clearTimeout(h)}),[]);Object(r.useEffect)((function(){n&&(h=setTimeout(v,n.duration))}),[n,v]);var f={token:s,isLoggedIn:g,login:function(e,t,n){l(e),m(n),localStorage.setItem("token",e),localStorage.setItem("expirationTime",t),localStorage.setItem("userdata",n.id);var a=S(t);h=setTimeout(v,a)},logout:v,userData:p,category:function(e){d(e)},categoryType:u};return Object(b.jsx)(w.Provider,{value:f,children:e.children})},y=w;var k=function(e){Object(r.useContext)(y);var t=Object(r.useState)(!1),n=Object(j.a)(t,2),a=n[0],c=n[1],s={id:localStorage.getItem("userdata")},l=Object(r.useState)({title:"",content:""}),o=Object(j.a)(l,2),i=o[0],u=o[1];function d(e){var t=e.target,n=t.name,a=t.value;u((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(x.a)({},n,a))}))}return Object(b.jsx)("div",{children:Object(b.jsxs)("form",{className:"create-note",children:[a&&Object(b.jsx)("input",{name:"title",onChange:d,value:i.title,placeholder:"Title"}),Object(b.jsx)("textarea",{name:"content",onClick:function(){c(!0)},onChange:d,value:i.content,placeholder:"Take a note...",rows:a?3:1}),Object(b.jsx)(f.a,{in:a,children:Object(b.jsx)(v.a,{onClick:function(t){N.a.put("https://note-wallet-app.herokuapp.com/app/addNewNote",{note:i,id:s.id}).then((function(e){e.data.seccess||alert(e.data.messeg)})),e.onAdd(i),u({title:"",content:""}),t.preventDefault()},children:Object(b.jsx)(g.a,{})})})]})})};var D=function(){var e=Object(r.useState)([{title:null,content:null}]),t=Object(j.a)(e,2),n=t[0],a=t[1],c=(Object(r.useContext)(y).userData,{id:localStorage.getItem("userdata")});function s(e){var t={id:c.id,arrayId:e};N.a.put("https://note-wallet-app.herokuapp.com/app/DeleteNote",t).then((function(e){})),a((function(t){return t.filter((function(t,n){return t._id!==e}))}))}return Object(r.useEffect)((function(){N.a.post("https://note-wallet-app.herokuapp.com/app/GetNotes",c).then((function(e){a(e.data.data)}))}),[]),Object(b.jsxs)("div",{children:[Object(b.jsx)(k,{onAdd:function(e){a((function(t){return[].concat(Object(i.a)(t),[e])}))}}),n.map((function(e,t){return Object(b.jsx)(O,{id:e._id,title:e.title,content:e.content,onDelete:s},t)}))]})};var I=function(){var e=(new Date).getFullYear();return Object(b.jsx)("footer",{className:"footer",children:Object(b.jsxs)("p",{className:"footerclas",children:["Copyright \u24d2 ",e," ahmed ALKATTAN All Rights Reserved"]})})},E=n(49),A=n.n(E),T=function(){var e=Object(r.useContext)(y),t=Object(o.g)(),n=e.isLoggedIn;return Object(b.jsxs)("header",{className:A.a.header,children:[Object(b.jsx)(s.b,{to:"/",children:Object(b.jsx)("div",{className:A.a.logo,children:"Wallet and Note"})}),Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[n&&Object(b.jsx)("li",{children:Object(b.jsxs)(s.b,{to:"/choosePage",children:[e.userData.email," "]})}),!n&&Object(b.jsx)("li",{children:Object(b.jsx)(s.b,{to:"/auth",children:"Login"})}),n&&Object(b.jsx)("li",{children:Object(b.jsx)(s.b,{to:"/choosePage",children:"Main Page"})}),n&&Object(b.jsx)("li",{children:Object(b.jsx)("button",{onClick:function(){e.logout(),localStorage.clear(),t.replace("/")},children:"Logout"})})]})})]})},F=function(e){return Object(b.jsxs)(r.Fragment,{children:[Object(b.jsx)(T,{}),Object(b.jsx)("main",{children:e.children}),Object(b.jsx)(I,{})]})},L=n(27),P=n.n(L);var M=function(e){var t={};return e.email?/\S+@\S+\.\S+/.test(e.email)||(t.email="Email address is invalid"):t.email="Email required",e.password?e.password.length<6&&(t.password="Password needs to be 6 characters or more"):t.password="Password is required",t},Y=n(21),J=n.n(Y),q=function(e){return Object(b.jsx)("div",{className:"".concat(J.a.card," ").concat(e.className),children:e.children})},B=function(e){return Object(b.jsx)("button",{className:J.a.button2,type:e.type||"button",onClick:e.onClick,children:e.children})},G=function(e){return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:J.a.backdrop,onClick:e.onConfirm}),Object(b.jsxs)(q,{className:J.a.modal,children:[Object(b.jsx)("header",{className:J.a.header,children:Object(b.jsx)("h2",{children:e.title})}),Object(b.jsx)("div",{className:J.a.content,children:Object(b.jsx)("p",{children:e.message})}),Object(b.jsx)("div",{className:J.a.actions,children:Object(b.jsx)(B,{onClick:e.onConfirm,children:"Close"})})]})]})},R=function(){var e=Object(o.g)(),t=Object(r.useContext)(y),n=Object(r.useState)(!1),a=Object(j.a)(n,2),c=a[0],s=a[1],l=Object(r.useState)(!1),i=Object(j.a)(l,2),u=i[0],d=i[1],h=Object(r.useState)(!0),O=Object(j.a)(h,2),m=O[0],g=O[1],v=Object(r.useState)(null),f=Object(j.a)(v,2),_=f[0],w=f[1];var S=Object(r.useState)(!0),C=Object(j.a)(S,2),k=C[0],D=C[1],I=Object(r.useState)(!1),E=Object(j.a)(I,2),A=E[0],T=E[1],F=Object(r.useState)({email:"",password:""}),L=Object(j.a)(F,2),Y=L[0],J=L[1],q=Object(r.useState)({}),B=Object(j.a)(q,2),R=B[0],U=B[1],V=function(e){var t=e.target,n=t.name,a=t.value;J((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(x.a)({},n,a))}))};Object(r.useEffect)((function(){0===Object.keys(R).length&&u&&m&&s(!0)}),[R,m,u]),u&&c&&(d(!1),s(!1),k?N.a.post("https://note-wallet-app.herokuapp.com/app/login",Y).then((function(n){if(T(!1),n.data.auth){t.isLoggedIn=!0;var a=new Date((new Date).getTime()+1e3*+n.data.expiresIn);t.login(n.data.token,a.toISOString(),n.data.userData),e.replace("/choosePage")}else w(n.data.messeg),J({email:"",password:""})})):N.a.post("https://note-wallet-app.herokuapp.com/app/signup",Y).then((function(n){n.data.seccess?(T(!1),t.isLoggedIn=!0,D(!0),e.push("/auth"),J({email:"",password:""})):(w(n.data.messeg),J({email:"",password:""}))})));return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:_&&Object(b.jsx)(G,{title:"An error Occured!",message:_,onConfirm:function(){w(null)}})}),Object(b.jsxs)("section",{className:P.a.auth,children:[Object(b.jsx)("h1",{children:k?"Login":"Sign Up"}),Object(b.jsxs)("div",{className:P.a.control,children:[Object(b.jsx)("label",{htmlFor:"email",children:"Your Email"}),Object(b.jsx)("input",{placeholder:"Enter your email",onChange:V,value:Y.email,name:"email",id:"email"})]}),Object(b.jsx)("p",{className:P.a.errorP,children:R.email}),Object(b.jsxs)("div",{className:P.a.control,children:[Object(b.jsx)("label",{htmlFor:"password",children:"Your Password"}),Object(b.jsx)("input",{type:"password",id:"password",placeholder:"Enter your password",onChange:V,name:"password",value:Y.password})]}),Object(b.jsx)("p",{className:P.a.errorP,children:R.password}),Object(b.jsxs)("div",{className:P.a.actions,children:[!A&&Object(b.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),g(!0),U(M(Y)),d(!0)},children:k?"Login":"Create Account"}),A&&Object(b.jsx)("p",{children:"Sending request..."}),Object(b.jsx)("button",{type:"button",className:P.a.toggle,onClick:function(){D((function(e){return!e})),J({email:"",password:""}),U({}),s(!1),g(!1)},children:k?"Create new account":"Login with existing account"})]})]})]})},U=function(){return Object(b.jsx)(R,{})},V=n(65),H=n.n(V),W=function(){return Object(b.jsx)("section",{className:H.a.starting,children:Object(b.jsx)("h1",{children:"Lets Be Organized!"})})},z=function(){return Object(b.jsx)(W,{})},K=n(46),Q=n.n(K),Z=n(133),$=n(134),X=n(135),ee=n(137),te=n(136),ne=function(){var e=Object(r.useContext)(y),t=Object(o.g)(),n=function(n){n.preventDefault(),e.category(n.target.name),t.push("/NotOrWallet")};return Object(b.jsx)(Z.a,{className:Q.a.alignthecard,children:Object(b.jsxs)($.a,{className:"justify-content-md-center",children:[Object(b.jsx)(X.a,{md:"auto",children:Object(b.jsxs)(ee.a,{border:"blue",className:Q.a.card,onClick:n,children:[Object(b.jsx)(te.a,{name:"note",src:"/img/Note2.jpg"}),Object(b.jsx)(ee.a.Body,{children:Object(b.jsx)("p",{children:" Note"})})]})}),Object(b.jsx)(X.a,{md:"auto",children:Object(b.jsxs)(ee.a,{border:"blue",className:Q.a.card,children:[Object(b.jsx)(te.a,{name:"wallet",style:{width:250,height:250,borderRadius:125},src:"/img/wallet.png",onClick:n}),Object(b.jsx)(ee.a.Body,{children:Object(b.jsx)("p",{children:" wallet"})})]})})]})})},ae=(n(104),function(e){var t=Object(r.useContext)(y),n=Object(r.useState)({title:"",amount:"",date:"",id:t.userData.id}),a=Object(j.a)(n,2),c=a[0],s=a[1];function l(e){var t=e.target,n=t.name,a=t.value;s((function(e){return Object(p.a)(Object(p.a)({},e),{},Object(x.a)({},n,a))}))}return Object(b.jsxs)("section",{children:[Object(b.jsxs)("div",{className:"new-expense__controls",children:[Object(b.jsxs)("div",{className:"new-expense__control",children:[Object(b.jsx)("label",{children:"Title"}),Object(b.jsx)("input",{type:"text",name:"title",value:c.title,onChange:l})]}),Object(b.jsxs)("div",{className:"new-expense__control",children:[Object(b.jsx)("label",{children:"Amount"}),Object(b.jsx)("input",{name:"amount",type:"number",min:"0.01",step:"0.01",value:c.amount,onChange:l})]}),Object(b.jsxs)("div",{className:"new-expense__control",children:[Object(b.jsx)("label",{children:"Date"}),Object(b.jsx)("input",{name:"date",type:"date",min:"2019-01-01",max:"2022-12-31",value:c.date,onChange:l})]})]}),Object(b.jsxs)("div",{className:"new-expense__actions",children:[Object(b.jsx)("button",{type:"button",onClick:e.onCancel,children:"Cancel"}),Object(b.jsx)("button",{onClick:function(t){t.preventDefault(),N.a.put("https://note-wallet-app.herokuapp.com/app/addNewExpensse",c).then((function(e){e.data.seccess||alert(e.data.messeg)})),e.onSaveExpenseData(c)},children:"Add Expense"})]})]})}),ce=(n(105),function(e){var t=Object(r.useState)(!1),n=Object(j.a)(t,2),a=n[0],c=n[1];return Object(b.jsxs)("div",{className:"new-expense",children:[!a&&Object(b.jsx)("button",{onClick:function(){c(!0)},children:"Add New Expense"}),a&&Object(b.jsx)(ae,{id:e.id,onSaveExpenseData:function(t){e.onAddExpense(t),c(!1)},onCancel:function(){c(!1)}})]})}),se=(n(106),function(e){var t="card "+e.className;return Object(b.jsx)("div",{className:t,children:e.children})}),re=(n(107),function(e){return Object(b.jsx)("div",{className:"expenses-filter",children:Object(b.jsxs)("div",{className:"expenses-filter__control",children:[Object(b.jsx)("label",{children:"Filter by year"}),Object(b.jsxs)("select",{value:e.selected,onChange:function(t){e.onChangeFilter(t.target.value)},children:[Object(b.jsx)("option",{value:"2022",children:"2022"}),Object(b.jsx)("option",{value:"2021",children:"2021"}),Object(b.jsx)("option",{value:"2020",children:"2020"}),Object(b.jsx)("option",{value:"2019",children:"2019"})]})]})})}),le=(n(108),function(e){var t=new Date(e.date),n=t.toLocaleString("en-US",{month:"long"}),a=t.toLocaleString("en-US",{day:"2-digit"}),c=t.getFullYear();return Object(b.jsxs)("div",{className:"expense-date",children:[Object(b.jsx)("div",{className:"expense-date__month",children:n}),Object(b.jsx)("div",{className:"expense-date__year",children:c}),Object(b.jsx)("div",{className:"expense-date__day",children:a})]})}),oe=(n(109),function(e){return Object(b.jsx)("li",{children:Object(b.jsxs)(se,{className:"expense-item",children:[Object(b.jsx)(le,{date:e.date}),Object(b.jsxs)("div",{className:"expense-item__description",children:[Object(b.jsx)("h2",{children:e.title}),Object(b.jsxs)("div",{className:"expense-item__price",children:["$",e.amount]})]})]})})}),ie=(n(110),function(e){return 0===e.items.length?Object(b.jsx)("h2",{className:"expenses-list__fallback",children:"Found no expenses."}):Object(b.jsx)("ul",{className:"expenses-list",children:e.items.map((function(e){return Object(b.jsx)(oe,{title:e.title,amount:e.amount,date:e.date},e._id)}))})}),je=n(66),ue=(n(111),function(e){var t="0%";return e.maxValue>0&&(t=Math.round(e.value/e.maxValue*100)+"%"),Object(b.jsxs)("div",{className:"chart-bar",children:[Object(b.jsx)("div",{className:"chart-bar__inner",children:Object(b.jsx)("div",{className:"chart-bar__fill",style:{height:t}})}),Object(b.jsx)("div",{className:"chart-bar__label",children:e.label})]})}),de=(n(112),function(e){var t=e.dataPoints.map((function(e){return e.value})),n=Math.max.apply(Math,Object(i.a)(t));return Object(b.jsx)("div",{className:"chart",children:e.dataPoints.map((function(e){return Object(b.jsx)(ue,{value:e.value,maxValue:n,label:e.label},e.label)}))})}),be=function(e){var t,n=[{label:"Jan",value:0},{label:"Feb",value:0},{label:"Mar",value:0},{label:"Apr",value:0},{label:"May",value:0},{label:"Jun",value:0},{label:"Jul",value:0},{label:"Aug",value:0},{label:"Sep",value:0},{label:"Oct",value:0},{label:"Nov",value:0},{label:"Dec",value:0}],a=Object(je.a)(e.expenses);try{for(a.s();!(t=a.n()).done;){var c=t.value;n[new Date(c.date).getMonth()].value+=c.amount}}catch(s){a.e(s)}finally{a.f()}return Object(b.jsx)(de,{dataPoints:n})},he=(n(113),function(e){var t=Object(r.useState)("2020"),n=Object(j.a)(t,2),a=n[0],c=n[1],s=e.items.filter((function(e){return new Date(e.date).getFullYear().toString()===a}));return Object(b.jsx)("div",{children:Object(b.jsxs)(se,{className:"expenses",children:[Object(b.jsx)(re,{selected:a,onChangeFilter:function(e){c(e)}}),Object(b.jsx)(be,{expenses:s}),Object(b.jsx)(ie,{items:s})]})})}),Oe=function(){var e=Object(r.useContext)(y).userData,t={id:localStorage.getItem("userdata")},n=Object(r.useState)([]),a=Object(j.a)(n,2),c=a[0],s=a[1];Object(r.useEffect)((function(){N.a.post("https://note-wallet-app.herokuapp.com/app/GetItems",t).then((function(e){s(e.data.data)}))}),[e]);return Object(b.jsxs)("div",{children:[Object(b.jsx)(ce,{onAddExpense:function(e){s((function(t){return[e].concat(Object(i.a)(t))}))}}),Object(b.jsx)(he,{items:c})]})};var xe=function(){var e=Object(r.useContext)(y);return Object(b.jsx)(F,{children:Object(b.jsx)(o.d,{children:Object(b.jsx)(r.Fragment,{children:Object(b.jsxs)("div",{className:"main-wrapper",children:[Object(b.jsx)(o.b,{path:"/",exact:!0,children:Object(b.jsx)(z,{})}),!e.isLoggedIn&&Object(b.jsx)(o.b,{path:"/auth",children:Object(b.jsx)(U,{})}),Object(b.jsxs)(o.b,{path:"/choosePage",children:[e.isLoggedIn&&Object(b.jsx)(ne,{}),!e.isLoggedIn&&Object(b.jsx)(o.a,{to:"/auth"})]}),Object(b.jsxs)(o.b,{path:"/NotOrWallet",children:["wallet"===e.categoryType&&Object(b.jsx)(Oe,{}),"note"===e.categoryType&&Object(b.jsx)(D,{})]}),Object(b.jsx)(o.b,{path:"*",children:Object(b.jsx)(o.a,{to:"/"})})]})})})})};c.a.render(Object(b.jsx)(C,{children:Object(b.jsx)(s.a,{children:Object(b.jsx)(xe,{})})}),document.getElementById("root"))},21:function(e,t,n){e.exports={button2:"ErrorStyle_button2__2RDqZ",card:"ErrorStyle_card__3U2hv",backdrop:"ErrorStyle_backdrop__3Rwvk",modal:"ErrorStyle_modal__vogrF",header:"ErrorStyle_header__2owIU",content:"ErrorStyle_content__2D6BV",actions:"ErrorStyle_actions__3JAS0"}},27:function(e,t,n){e.exports={auth:"AuthForm_auth__1avp5",control:"AuthForm_control__2lpNv",actions:"AuthForm_actions__1Y5zD",toggle:"AuthForm_toggle__3GH16",errorP:"AuthForm_errorP__3cY1H"}},46:function(e,t,n){e.exports={alignthecard:"ChooseGat_alignthecard__E8HwK",card:"ChooseGat_card__1JTan"}},49:function(e,t,n){e.exports={header:"MainNavigation_header__1pf_S",logo:"MainNavigation_logo__3qQ-O"}},65:function(e,t,n){e.exports={starting:"StartingPageContent_starting__1lYmO"}},75:function(e,t,n){}},[[114,1,2]]]);
//# sourceMappingURL=main.841bdd88.chunk.js.map